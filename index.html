function selectOption(option, index) {
            // Eliminar la clase seleccionada de todas las opciones
            const options = document.querySelectorAll('.option');
            options.forEach(opt => opt.classList.remove('selected'));
            
            // Añadir clase seleccionada a la opción clickeada
            option.classList.add('selected');
            
            // Guardar respuesta
            userAnswers[currentQuestion] = index;
            
            // Habilitar botón siguiente
            document.getElementById('next-button').disabled = false;
        }
        
        function nextQuestion() {
            if (currentQuestion < quizData.length - 1) {
                currentQuestion++;
                displayQuestion();
            }
        }
        
        function previousQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                displayQuestion();
            }
        }
        
        function showResults() {
            document.getElementById('questions').style.display = 'none';
            document.getElementById('results').style.display = 'block';
            
            // Calcular puntuaciones por dimensión
            const dimensions = ["Liderazgo", "Estrategia", "Cultura", "Operaciones", "Tecnología", "Finanzas", "Clientes", "Innovación"];
            const scores = dimensions.map(dim => {
                const relevantQuestions = quizData.filter(q => q.dimension === dim);
                if (relevantQuestions.length === 0) return 0;
                
                let total = 0;
                relevantQuestions.forEach((q, i) => {
                    const questionIndex = quizData.indexOf(q);
                    if (userAnswers[questionIndex] !== undefined) {
                        total += q.scores[userAnswers[questionIndex]];
                    }
                });
                
                return relevantQuestions.length > 0 ? Math.round((total / relevantQuestions.length) * 25) : 0;
            });
            
            // Generar gráfico de resultados
            createResultChart(dimensions, scores);
            
            // Generar recomendaciones basadas en puntuaciones
            generateRecommendations(dimensions, scores);
        }
        
        function createResultChart(dimensions, scores) {
            // Crear un contenedor para el gráfico
            const chartContainer = document.querySelector('.result-chart');
            chartContainer.innerHTML = '';
            
            // Crear un elemento canvas para el gráfico
            const canvas = document.createElement('canvas');
            canvas.id = 'octagon-chart';
            canvas.width = 400;
            canvas.height = 400;
            chartContainer.appendChild(canvas);
            
            // Dibujar el gráfico
            const ctx = canvas.getContext('2d');
            
            // Configuración
            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2;
            const maxRadius = Math.min(centerX, centerY) - 20;
            
            // Dibujar fondo del gráfico
            ctx.beginPath();
            ctx.arc(centerX, centerY, maxRadius, 0, 2 * Math.PI);
            ctx.fillStyle = '#e8f0fe';
            ctx.fill();
            
            // Dibujar círculos de referencia
            for (let i = 1; i <= 4; i++) {
                ctx.beginPath();
                ctx.arc(centerX, centerY, maxRadius * i / 4, 0, 2 * Math.PI);
                ctx.strokeStyle = '#ccc';
                ctx.stroke();
            }
            
            // Dibujar líneas radiales
            for (let i = 0; i < dimensions.length; i++) {
                const angle = (i * 2 * Math.PI / dimensions.length) - Math.PI / 2;
                ctx.beginPath();
                ctx.moveTo(centerX, centerY);
                ctx.lineTo(
                    centerX + maxRadius * Math.cos(angle),
                    centerY + maxRadius * Math.sin(angle)
                );
                ctx.strokeStyle = '#ccc';
                ctx.stroke();
                
                // Añadir etiquetas de dimensiones
                const labelX = centerX + (maxRadius + 15) * Math.cos(angle);
                const labelY = centerY + (maxRadius + 15) * Math.sin(angle);
                
                ctx.save();
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';
                ctx.fillStyle = '#1a73e8';
                ctx.font = 'bold 12px Arial';
                ctx.fillText(dimensions[i], labelX, labelY);
                ctx.restore();
            }
            
            // Dibujar puntuaciones
            ctx.beginPath();
            for (let i = 0; i < dimensions.length; i++) {
                const angle = (i * 2 * Math.PI / dimensions.length) - Math.PI / 2;
                const score = scores[i] / 100; // Normalizar a 0-1
                
                const pointX = centerX + maxRadius * score * Math.cos(angle);
                const pointY = centerY + maxRadius * score * Math.sin(angle);
                
                if (i === 0) {
                    ctx.moveTo(pointX, pointY);
                } else {
                    ctx.lineTo(pointX, pointY);
                }
            }
            
            // Cerrar y dibujar polígono de puntuación
            ctx.closePath();
            ctx.fillStyle = 'rgba(26, 115, 232, 0.3)';
            ctx.fill();
            ctx.strokeStyle = '#1a73e8';
            ctx.lineWidth = 2;
            ctx.stroke();
            
            // Añadir puntos en cada vértice
            for (let i = 0; i < dimensions.length; i++) {
                const angle = (i * 2 * Math.PI / dimensions.length) - Math.PI / 2;
                const score = scores[i] / 100; // Normalizar a 0-1
                
                const pointX = centerX + maxRadius * score * Math.cos(angle);
                const pointY = centerY + maxRadius * score * Math.sin(angle);
                
                ctx.beginPath();
                ctx.arc(pointX, pointY, 5, 0, 2 * Math.PI);
                ctx.fillStyle = '#1a73e8';
                ctx.fill();
            }
        }
        
        function generateRecommendations(dimensions, scores) {
            const recommendationContent = document.getElementById('recommendation-content');
            recommendationContent.innerHTML = '';
            
            // Encontrar las dimensiones más bajas (áreas de mejora)
            const sortedDimensions = [...dimensions];
            const sortedScores = [...scores];
            
            // Crear pares de dimensión-puntuación y ordenar por puntuación
            const pairs = dimensions.map((dim, i) => ({ dimension: dim, score: scores[i] }));
            pairs.sort((a, b) => a.score - b.score);
            
            // Crear recomendaciones para las 3 dimensiones más bajas
            const lowDimensions = pairs.slice(0, 3);
            
            // Título principal
            const title = document.createElement('h4');
            title.textContent = 'Áreas Prioritarias de Mejora';
            title.style.marginBottom = '15px';
            title.style.color = 'var(--primary-color)';
            recommendationContent.appendChild(title);
            
            // Introducción
            const intro = document.createElement('p');
            intro.textContent = 'Basado en su evaluación, hemos identificado las siguientes áreas donde su organización podría beneficiarse más de nuestro Modelo de Octágono:';
            intro.style.marginBottom = '20px';
            recommendationContent.appendChild(intro);
            
            // Crear recomendaciones para cada dimensión baja
            lowDimensions.forEach(pair => {
                const dimensionRecommendation = document.createElement('div');
                dimensionRecommendation.className = 'dimension-recommendation';
                dimensionRecommendation.style.marginBottom = '20px';
                
                const dimensionTitle = document.createElement('h5');
                dimensionTitle.textContent = pair.dimension;
                dimensionTitle.style.color = 'var(--primary-color)';
                dimensionTitle.style.marginBottom = '5px';
                dimensionRecommendation.appendChild(dimensionTitle);
                
                const dimensionScore = document.createElement('div');
                dimensionScore.className = 'dimension-score';
                dimensionScore.textContent = `Puntuación: ${pair.score}%`;
                dimensionScore.style.marginBottom = '10px';
                dimensionScore.style.fontWeight = 'bold';
                dimensionRecommendation.appendChild(dimensionScore);
                
                const recommendations = document.createElement('p');
                
                // Personalizar recomendaciones según la dimensión
                switch(pair.dimension) {
                    case 'Liderazgo':
                        recommendations.textContent = 'Recomendamos implementar programas de desarrollo de liderazgo, mejorar la comunicación entre directivos y equipos, y establecer mecanismos claros de responsabilidad y rendición de cuentas.';
                        break;
                    case 'Estrategia':
                        recommendations.textContent = 'Considere desarrollar un proceso formal de planificación estratégica, con revisiones trimestrales y KPIs claramente definidos. Involucre a más niveles de la organización en el proceso estratégico.';
                        break;
                    case 'Cultura':
                        recommendations.textContent = 'Trabaje en definir y comunicar valores organizacionales claros, implementar programas de reconocimiento que refuercen estos valores, y crear espacios para el feedback continuo entre todos los niveles.';
                        break;
                    case 'Operaciones':
                        recommendations.textContent = 'Identifique y elimine cuellos de botella en sus procesos, implemente metodologías de mejora continua, y asegúrese de que sus operaciones estén alineadas con su estrategia general.';
                        break;
                    case 'Tecnología':
                        recommendations.textContent = 'Realice una auditoría de su stack tecnológico actual, identifique oportunidades para la automatización y digitalización, y desarrolle un roadmap tecnológico alineado con sus objetivos estratégicos.';
                        break;
                    case 'Finanzas':
                        recommendations.textContent = 'Mejore la transparencia financiera dentro de la organización, implemente herramientas de análisis financiero más robustas, y alinee su presupuesto con sus prioridades estratégicas.';
                        break;
                    case 'Clientes':
                        recommendations.textContent = 'Establezca mecanismos sistemáticos para recoger y actuar sobre el feedback de los clientes, mejore sus procesos de servicio al cliente, y desarrolle indicadores claros de satisfacción del cliente.';
                        break;
                    case 'Innovación':
                        recommendations.textContent = 'Cree espacios dedicados para la innovación, implemente procesos para capturar y evaluar nuevas ideas, y fomente una cultura donde la experimentación sea valorada y el fracaso sea visto como aprendizaje.';
                        break;
                    default:
                        recommendations.textContent = 'Trabajar con nuestros consultores para desarrollar un plan personalizado de mejora en esta área.';
                }
                
                dimensionRecommendation.appendChild(recommendations);
                recommendationContent.appendChild(dimensionRecommendation);
            });
            
            // Llamada a la acción
            const cta = document.createElement('div');
            cta.className = 'recommendation-cta';
            cta.style.marginTop = '30px';
            cta.style.textAlign = 'center';
            
            const ctaMessage = document.createElement('p');
            ctaMessage.textContent = 'Para un análisis más detallado y un plan de implementación personalizado, póngase en contacto con nuestro equipo de consultores:';
            ctaMessage.style.marginBottom = '15px';
            cta.appendChild(ctaMessage);
            
            const ctaButton = document.createElement('a');
            ctaButton.href = '#contact';
            ctaButton.className = 'cta-button';
            ctaButton.textContent = 'Solicitar Consulta';
            ctaButton.style.display = 'inline-block';
            cta.appendChild(ctaButton);
            
            recommendationContent.appendChild(cta);
        }

        // Chat functionality with GROQ integration
        // Variables para la configuración de GROQ
        const GROQ_API_KEY = ""; // Aquí deberás colocar tu API key de GROQ
        const GROQ_MODEL = "llama3-70b-8192"; // Modelo a utilizar
        
        // Documentos de conocimiento para el chatbot
        const knowledgeBase = [
            {
                title: "Modelo de Octágono",
                content: "El Modelo de Octágono de Sage-Wise es un marco integrado que equilibra ocho dimensiones críticas de excelencia organizacional: Liderazgo, Estrategia, Cultura, Operaciones, Tecnología, Finanzas, Clientes e Innovación. Cada dimensión representa un componente vital para el éxito sostenible de una organización. El modelo se basa en el principio de que estas dimensiones están interconectadas y deben abordarse de manera holística para lograr una transformación organizacional efectiva."
            },
            {
                title: "Liderazgo",
                content: "En el Modelo de Octágono, el Liderazgo establece la visión, inspira al equipo y conduce el cambio organizacional. Los líderes efectivos crean una cultura de responsabilidad, fomentan la innovación y aseguran el alineamiento estratégico en toda la organización. El liderazgo efectivo no se trata solo de dar órdenes, sino de empoderar a los equipos, facilitar la colaboración y modelar los valores que desean ver en la organización."
            },
            {
                title: "Estrategia",
                content: "La dimensión de Estrategia del Modelo de Octágono define la dirección a largo plazo y establece cómo la organización alcanzará sus objetivos. Incluye la planificación estratégica, el análisis competitivo, la gestión de riesgos y la asignación de recursos. Una estrategia efectiva debe ser clara, comunicable, adaptable a cambios en el entorno y alineada con las capacidades organizacionales."
            },
            {
                title: "Cultura",
                content: "La Cultura en el Modelo de Octágono representa los valores, comportamientos y prácticas compartidas que definen el entorno de trabajo. Una cultura organizacional sólida mejora el compromiso de los empleados, promueve la colaboración y facilita la adaptación al cambio. La cultura debe ser intencionalmente diseñada y constantemente reforzada a través de sistemas, políticas y comportamientos de liderazgo."
            },
            {
                title: "Operaciones",
                content: "Las Operaciones en el Modelo de Octágono se refieren a cómo la organización entrega valor a través de sus procesos, sistemas y estructuras. Operaciones efectivas maximizan la eficiencia, mantienen la calidad y responden ágilmente a las necesidades cambiantes. Esto incluye gestión de procesos, cadena de suministro, producción, entrega de servicios y gestión de la calidad."
            },
            {
                title: "Tecnología",
                content: "La dimensión de Tecnología en el Modelo de Octágono abarca las herramientas, sistemas y capacidades digitales que potencian a la organización. Una estrategia tecnológica efectiva habilita la innovación, mejora la eficiencia operativa y crea ventajas competitivas. Incluye infraestructura de TI, arquitectura de sistemas, gestión de datos, herramientas de colaboración, automatización y tecnologías emergentes."
            },
            {
                title: "Finanzas",
                content: "Las Finanzas en el Modelo de Octágono representan la gestión de recursos económicos y la creación de valor financiero sostenible. Una gestión financiera sólida proporciona los recursos necesarios para ejecutar la estrategia, mide el rendimiento y asegura la sostenibilidad a largo plazo. Incluye planificación financiera, gestión de presupuesto, contabilidad, inversiones, financiamiento y análisis financiero."
            },
            {
                title: "Clientes",
                content: "La dimensión de Clientes en el Modelo de Octágono se enfoca en entender, atraer y retener a los clientes a través de experiencias excepcionales. Una orientación sólida hacia el cliente promueve la lealtad, aumenta la retención y conduce al crecimiento orgánico. Incluye investigación de mercado, diseño de experiencia del cliente, gestión de relaciones con clientes, servicio al cliente y análisis de comportamiento de clientes."
            },
            {
                title: "Innovación",
                content: "La Innovación en el Modelo de Octágono impulsa la evolución y renovación continua de la organización. Una cultura de innovación efectiva facilita la adaptación al cambio, crea nuevas fuentes de valor y mantiene la relevancia en mercados dinámicos. Incluye gestión de la innovación, desarrollo de nuevos productos/servicios, experimentación, I+D, y fomento de la creatividad organizacional."
            },
            {
                title: "Interconexiones del Modelo",
                content: "En el Modelo de Octágono, cada dimensión está conectada con las adyacentes, creando conexiones críticas que deben gestionarse. Por ejemplo, el Liderazgo Estratégico conecta la visión con la ejecución, la Cultura Operativa asegura que los valores se reflejen en los procesos diarios, y la Innovación Centrada en el Cliente garantiza que las nuevas soluciones respondan a necesidades reales del mercado. Estas interconexiones son tan importantes como las dimensiones individuales."
            },
            {
                title: "Metodología de Implementación",
                content: "La metodología Sage-Wise para implementar el Modelo de Octágono sigue cinco fases: 1) Diagnóstico: evaluación detallada del estado actual en las ocho dimensiones. 2) Visión: definición del estado futuro deseado. 3) Planificación: desarrollo de iniciativas específicas para cerrar brechas. 4) Implementación: ejecución de iniciativas con gestión de cambio efectiva. 5) Sostenibilidad: mecanismos para mantener y evolucionar los cambios. Este enfoque sistemático garantiza transformaciones sostenibles."
            },
            {
                title: "Beneficios del Modelo de Octágono",
                content: "La implementación del Modelo de Octágono de Sage-Wise genera múltiples beneficios: mayor alineamiento organizacional, mejora en la toma de decisiones, aumento de la agilidad para responder al cambio, mejora en la experiencia del cliente, incremento en la eficiencia operativa, fortalecimiento de la cultura organizacional, mayor capacidad de innovación, y resultados financieros sostenibles. Las organizaciones que implementan el modelo completo típicamente ven mejoras de rendimiento del 25-40% en indicadores clave."
            }
        ];

        async function sendMessage() {
            const input = document.getElementById('message-input');
            const message = input.value.trim();
            
            if (message) {
                // Mostrar mensaje del usuario
                addMessage(message, 'user');
                input.value = '';
                
                // Añadir indicador de carga
                const loadingIndicator = document.createElement('div');
                loadingIndicator.className = 'message bot-message';
                loadingIndicator.id = 'loading-indicator';
                loadingIndicator.textContent = 'Pensando...';
                document.getElementById('chat-messages').appendChild(loadingIndicator);
                
                try {
                    // Si tienes implementada la API key de GROQ, esto hará la llamada a la API
                    if (GROQ_API_KEY) {
                        const response = await callGROQ(message);
                        removeLoadingIndicator();
                        addMessage(response, 'bot');
                    } else {
                        // Respuesta simulada si no hay API key
                        await simulateResponse(message);
                    }
                } catch (error) {
                    console.error('Error al procesar el mensaje:', error);
                    removeLoadingIndicator();
                    addMessage('Lo siento, ocurrió un error al procesar tu pregunta. Por favor, intenta de nuevo.', 'bot');
                }
            }
        }
        
        function removeLoadingIndicator() {
            const indicator = document.getElementById('loading-indicator');
            if (indicator) {
                indicator.remove();
            }
        }

        // Función para llamar a la API de GROQ
        async function callGROQ(userMessage) {
            // Preparar el contexto con los documentos de la base de conocimiento
            const context = knowledgeBase.map(doc => `${doc.title}:\n${doc.content}`).join('\n\n');
            
            const prompt = `
            Eres El Explicador, un asistente especializado en la metodología Sage-Wise y el Modelo de Octágono.
            Responde preguntas basándote en la siguiente información:
            
            ${context}
            
            Pregunta del usuario: ${userMessage}
            
            Responde de manera clara, concisa y educada. Si la información no está en el contexto proporcionado, indícalo amablemente.
            Usa un tono profesional pero accesible. Formatea tu respuesta para que sea fácil de leer.
            `;
            
            try {
                const response = await fetch('https://api.groq.com/openai/v1/chat/completions', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${GROQ_API_KEY}`
                    },
                    body: JSON.stringify({
                        model: GROQ_MODEL,
                        messages: [
                            { role: "system", content: "Eres El Explicador, un asistente especializado en la metodología Sage-Wise." },
                            { role: "user", content: prompt }
                        ],
                        temperature: 0.7,
                        max_tokens: 1000
                    })
                });
                
                if (!response.ok) {
                    throw new Error(`Error en la API: ${response.status}`);
                }
                
                const data = await response.json();
                return data.choices[0].message.content;
            } catch (error) {
                console.error('Error al llamar a la API de GROQ:', error);
                throw error;
            }
        }
        
        // Función para simular respuestas cuando no hay API key configurada
        async function simulateResponse(userMessage) {
            removeLoadingIndicator();
            
            // Simular tiempo de respuesta
            await new Promise(resolve => setTimeout(resolve, 1500));
            
            // Buscar en la base de conocimiento local
            const lowerMessage = userMessage.toLowerCase();
            
            // Búsqueda más sofisticada en la base de conocimiento
            let bestMatch = null;
            let bestScore = 0;
            
            for (const doc of knowledgeBase) {
                // Crear una puntuación simple basada en la coincidencia de palabras clave
                const titleWords = doc.title.toLowerCase().split(/\s+/);
                const contentWords = doc.content.toLowerCase().split(/\s+/);
                const messageWords = lowerMessage.split(/\s+/);
                
                let matchScore = 0;
                
                // Dar más peso a las coincidencias en el título
                for (const word of messageWords) {
                    if (word.length < 3) continue; // Ignorar palabras muy cortas
                    
                    if (titleWords.some(w => w.includes(word) || word.includes(w))) {
                        matchScore += 3;
                    }
                    
                    if (contentWords.some(w => w.includes(word) || word.includes(w))) {
                        matchScore += 1;
                    }
                }
                
                // También buscar coincidencias de frases exactas
                if (doc.title.toLowerCase().includes(lowerMessage) || 
                    doc.content.toLowerCase().includes(lowerMessage)) {
                    matchScore += 5;
                }
                
                if (matchScore > bestScore) {
                    bestScore = matchScore;
                    bestMatch = doc;
                }
            }
            
            // Si encontramos una buena coincidencia
            if (bestMatch && bestScore > 2) {
                let response = `${bestMatch.content}`;
                
                // Añadir información sobre dimensiones relacionadas si es relevante
                if (bestMatch.title.includes("Modelo de Octágono") || 
                    bestMatch.title.includes("Interconexiones")) {
                    response += "\n\nSi deseas conocer más sobre alguna dimensión específica del modelo, puedes preguntarme sobre Liderazgo, Estrategia, Cultura, Operaciones, Tecnología, Finanzas, Clientes o Innovación.";
                }
                
                addMessage(response, 'bot');
                return;
            }
            
            // Respuestas específicas para preguntas comunes
            if (lowerMessage.includes('octágono') || lowerMessage.includes('octagon') || lowerMessage.includes('modelo')) {
                addMessage("El Modelo de Octágono de Sage-Wise es un marco integrado que equilibra ocho dimensiones críticas de excelencia organizacional: Liderazgo, Estrategia, Cultura, Operaciones, Tecnología, Finanzas, Clientes e Innovación. Cada dimensión representa un componente vital para el éxito sostenible de una organización. El modelo se basa en el principio de que estas dimensiones están interconectadas y deben abordarse de manera holística para lograr una transformación organizacional efectiva.", 'bot');
            } 
            else if (lowerMessage.includes('liderazgo') || lowerMessage.includes('leadership')) {
                addMessage("En el Modelo de Octágono, el Liderazgo establece la visión, inspira al equipo y conduce el cambio organizacional. Los líderes efectivos crean una cultura de responsabilidad, fomentan la innovación y aseguran el alineamiento estratégico en toda la organización. El liderazgo efectivo no se trata solo de dar órdenes, sino de empoderar a los equipos, facilitar la colaboración y modelar los valores que desean ver en la organización.", 'bot');
            }
            else if (lowerMessage.includes('estrategia') || lowerMessage.includes('strategy')) {
                addMessage("La dimensión de Estrategia del Modelo de Octágono define la dirección a largo plazo y establece cómo la organización alcanzará sus objetivos. Incluye la planificación estratégica, el análisis competitivo, la gestión de riesgos y la asignación de recursos. Una estrategia efectiva debe ser clara, comunicable, adaptable a cambios en el entorno y alineada con las capacidades organizacionales.", 'bot');
            }
            else if (lowerMessage.includes('cultura') || lowerMessage.includes('culture')) {
                addMessage("La Cultura en el Modelo de Octágono representa los valores, comportamientos y prácticas compartidas que definen el entorno de trabajo. Una cultura organizacional sólida mejora el compromiso de los empleados, promueve la colaboración y facilita la adaptación al cambio. La cultura debe ser intencionalmente diseñada y constantemente reforzada a través de sistemas, políticas y comportamientos de liderazgo.", 'bot');
            }
            else if (lowerMessage.includes('operaciones') || lowerMessage.includes('operations')) {
                addMessage("Las Operaciones en el Modelo de Octágono se refieren a cómo la organización entrega valor a través de sus procesos, sistemas y estructuras. Operaciones efectivas maximizan la eficiencia, mantienen la calidad y responden ágilmente a las necesidades cambiantes. Esto incluye gestión de procesos, cadena de suministro, producción, entrega de servicios y gestión de la calidad.", 'bot');
            }
            else if (lowerMessage.includes('tecnología') || lowerMessage.includes('technology')) {
                addMessage("La dimensión de Tecnología en el Modelo de Octágono abarca las herramientas, sistemas y capacidades digitales que potencian a la organización. Una estrategia tecnológica efectiva habilita la innovación, mejora la eficiencia operativa y crea ventajas competitivas. Incluye infraestructura de TI, arquitectura de sistemas, gestión de datos, herramientas de colaboración, automatización y tecnologías emergentes.", 'bot');
            }
            else if (lowerMessage.includes('finanzas') || lowerMessage.includes('finance')) {
                addMessage("Las Finanzas en el Modelo de Octágono representan la gestión de recursos económicos y la creación de valor financiero sostenible. Una gestión financiera sólida proporciona los recursos necesarios para ejecutar la estrategia, mide el rendimiento y asegura la sostenibilidad a largo plazo. Incluye planificación financiera, gestión de presupuesto, contabilidad, inversiones, financiamiento y análisis financiero.", 'bot');
            }
            else if (lowerMessage.includes('clientes') || lowerMessage.includes('customers')) {
                addMessage("La dimensión de Clientes en el Modelo de Octágono se enfoca en entender, atraer y retener a los clientes a través de experiencias excepcionales. Una orientación sólida hacia el cliente promueve la lealtad, aumenta la retención y conduce al crecimiento orgánico. Incluye investigación de mercado, diseño de experiencia del cliente, gestión de relaciones con clientes, servicio al cliente y análisis de comportamiento de clientes.", 'bot');
            }
            else if (lowerMessage.includes('innovación') || lowerMessage.includes('innovation')) {
                addMessage("La Innovación en el Modelo de Octágono impulsa la evolución y renovación continua de la organización. Una cultura de innovación efectiva facilita la adaptación al cambio, crea nuevas fuentes de valor y mantiene la relevancia en mercados dinámicos. Incluye gestión de la innovación, desarrollo de nuevos productos/servicios, experimentación, I+D, y fomento de la creatividad organizacional.", 'bot');
            }
            else if (lowerMessage.includes('metodología') || lowerMessage.includes('methodology') || lowerMessage.includes('implementación') || lowerMessage.includes('implementation')) {
                addMessage("La metodología Sage-Wise para implementar el Modelo de Octágono sigue cinco fases: 1) Diagnóstico: evaluación detallada del estado actual en las ocho dimensiones. 2) Visión: definición del estado futuro deseado. 3) Planificación: desarrollo de iniciativas específicas para cerrar brechas. 4) Implementación: ejecución de iniciativas con gestión de cambio efectiva. 5) Sostenibilidad: mecanismos para mantener y evolucionar los cambios. Este enfoque sistemático garantiza transformaciones sostenibles.", 'bot');
            }
            else if (lowerMessage.includes('beneficios') || lowerMessage.includes('benefits') || lowerMessage.includes('ventajas') || lowerMessage.includes('advantages')) {
                addMessage("La implementación del Modelo de Octágono de Sage-Wise genera múltiples beneficios: mayor alineamiento organizacional, mejora en la toma de decisiones, aumento de la agilidad para responder al cambio, mejora en la experiencia del cliente, incremento en la eficiencia operativa, fortalecimiento de la cultura organizacional, mayor capacidad de innovación, y resultados financieros sostenibles. Las organizaciones que implementan el modelo completo típicamente ven mejoras de rendimiento del 25-40% en indicadores clave.", 'bot');
            }
            else if (lowerMessage.includes('hola') || lowerMessage.includes('buenos días') || lowerMessage.includes('buenas tardes') || lowerMessage.includes('hello') || lowerMessage.includes('hi')) {
                addMessage("¡Hola! Soy El Explicador, tu guía especializado en la metodología Sage-Wise y el Modelo de Octágono. Puedo responder tus preguntas sobre las ocho dimensiones del modelo: Liderazgo, Estrategia, Cultura, Operaciones, Tecnología, Finanzas, Clientes e Innovación. También puedo explicarte cómo estas dimensiones se interconectan y los beneficios de implementar el modelo. ¿En qué puedo ayudarte hoy?", 'bot');
            }
            else if (lowerMessage.includes('gracias') || lowerMessage.includes('thank you') || lowerMessage.includes('thanks')) {
                addMessage("¡De nada! Es un placer ayudarte a entender la metodología Sage-Wise. Si tienes más preguntas sobre el Modelo de Octágono o cualquiera de sus dimensiones, no dudes en consultarme.", 'bot');
            }
            else if (lowerMessage.includes('quién eres') || lowerMessage.includes('who are you') || lowerMessage.includes('qué eres') || lowerMessage.includes('what are you')) {
                addMessage("Soy El Explicador, un asistente virtual especializado en la metodología Sage-Wise y el Modelo de Octágono. Estoy diseñado para responder tus preguntas sobre las ocho dimensiones del modelo y cómo pueden ayudar a transformar tu organización. Aunque actualmente opero en modo de simulación, con una API key de GROQ puedo ofrecer respuestas aún más detalladas y precisas.", 'bot');
            }
            else {
                addMessage("Para obtener respuestas más precisas, necesito que configures tu API key de GROQ. Por ahora, puedo responder preguntas básicas sobre el Modelo de Octágono de Sage-Wise y sus dimensiones como Liderazgo, Estrategia, Cultura, Operaciones, Tecnología, Finanzas, Clientes e Innovación. ¿Hay algo específico sobre alguna de estas dimensiones que te gustaría conocer?", 'bot');
            }
        }

        function handleKeyPress(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        }

        function addMessage(text, sender) {
            const messagesContainer = document.getElementById('chat-messages');
            const messageElement = document.createElement('div');
            messageElement.classList.add('message');
            messageElement.classList.add(sender === 'user' ? 'user-message' : 'bot-message');
            
            // Formatear el texto con saltos de línea
            const formattedText = text.replace(/\n\n/g, '<br><br>').replace(/\n/g, '<br>');
            messageElement.innerHTML = formattedText;
            
            messagesContainer.appendChild(messageElement);
            
            // Auto scroll to bottom
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }
    </script>
</body>
</html>                vertexDot.style.transform = `translate3d(-50%, -50%, ${z}px)`;
                vertexDot.style.zIndex = Math.round(z) + 10;
                vertexDot.setAttribute('data-index', i);
                
                // Añadir efecto de profundidad con sombras basadas en la posición Z
                const shadowIntensity = Math.max(0, (heightOffset - z) / heightOffset);
                vertexDot.style.boxShadow = `0 ${2 + shadowIntensity * 6}px ${3 + shadowIntensity * 7}px rgba(0, 0, 0, ${0.1 + shadowIntensity * 0.2})`;
                
                // Eventos para el tooltip
                vertexDot.addEventListener('mouseover', function(e) {
                    const index = parseInt(this.getAttribute('data-index'));
                    tooltip.innerHTML = `<h4>${vertexLabels[index]}</h4><p>${vertexDescriptions[index]}</p>`;
                    
                    // Posicionar tooltip cerca del cursor
                    const rect = octagonContainer.getBoundingClientRect();
                    tooltip.style.left = (e.clientX - rect.left + 10) + 'px';
                    tooltip.style.top = (e.clientY - rect.top + 10) + 'px';
                    
                    // Mostrar tooltip
                    tooltip.style.opacity = 1;
                    tooltip.style.visibility = 'visible';
                    
                    // Resaltar vértice actual
                    this.style.transform = `translate3d(-50%, -50%, ${z + 10}px) scale(1.5)`;
                    this.style.backgroundColor = 'var(--secondary-color)';
                    this.style.boxShadow = `0 ${4 + shadowIntensity * 8}px ${6 + shadowIntensity * 10}px rgba(26, 115, 232, 0.4)`;
                });
                
                vertexDot.addEventListener('mouseout', function() {
                    const index = parseInt(this.getAttribute('data-index'));
                    const z = vertices[index].z;
                    const shadowIntensity = Math.max(0, (heightOffset - z) / heightOffset);
                    
                    // Restaurar vértice
                    this.style.transform = `translate3d(-50%, -50%, ${z}px)`;
                    this.style.backgroundColor = 'var(--primary-color)';
                    this.style.boxShadow = `0 ${2 + shadowIntensity * 6}px ${3 + shadowIntensity * 7}px rgba(0, 0, 0, ${0.1 + shadowIntensity * 0.2})`;
                });
                
                octagonContainer.appendChild(vertexDot);
                
                // Crear etiqueta del vértice
                const vertexLabel = document.createElement('div');
                vertexLabel.className = 'octagon-vertex-label';
                vertexLabel.textContent = vertexLabels[i];
                vertexLabel.style.left = `${x * 1.2 + radius}px`;
                vertexLabel.style.top = `${y * 1.2 + radius}px`;
                vertexLabel.style.transform = `translate3d(-50%, -50%, ${z}px)`;
                vertexLabel.style.zIndex = Math.round(z) + 5;
                vertexLabel.setAttribute('data-index', i);
                
                // Añadir efecto 3D al texto con sombras
                vertexLabel.style.textShadow = `0 ${1 + shadowIntensity * 2}px ${2 + shadowIntensity * 2}px rgba(0, 0, 0, ${0.1 + shadowIntensity * 0.1})`;
                
                // Eventos para el tooltip en la etiqueta
                vertexLabel.addEventListener('mouseover', function(e) {
                    const index = parseInt(this.getAttribute('data-index'));
                    tooltip.innerHTML = `<h4>${vertexLabels[index]}</h4><p>${vertexDescriptions[index]}</p>`;
                    
                    // Posicionar tooltip cerca del cursor
                    const rect = octagonContainer.getBoundingClientRect();
                    tooltip.style.left = (e.clientX - rect.left + 10) + 'px';
                    tooltip.style.top = (e.clientY - rect.top + 10) + 'px';
                    
                    // Mostrar tooltip
                    tooltip.style.opacity = 1;
                    tooltip.style.visibility = 'visible';
                    
                    // Resaltar vértice relacionado
                    const relatedVertex = document.querySelectorAll('.octagon-vertex')[index];
                    const z = vertices[index].z;
                    relatedVertex.style.transform = `translate3d(-50%, -50%, ${z + 10}px) scale(1.5)`;
                    relatedVertex.style.backgroundColor = 'var(--secondary-color)';
                    
                    const shadowIntensity = Math.max(0, (heightOffset - z) / heightOffset);
                    relatedVertex.style.boxShadow = `0 ${4 + shadowIntensity * 8}px ${6 + shadowIntensity * 10}px rgba(26, 115, 232, 0.4)`;
                    
                    // Resaltar etiqueta
                    this.style.color = 'var(--secondary-color)';
                    this.style.fontWeight = 'bold';
                    this.style.textShadow = `0 0 3px rgba(26, 115, 232, 0.3)`;
                });
                
                vertexLabel.addEventListener('mouseout', function() {
                    // Restaurar vértice
                    const index = parseInt(this.getAttribute('data-index'));
                    const relatedVertex = document.querySelectorAll('.octagon-vertex')[index];
                    const z = vertices[index].z;
                    relatedVertex.style.transform = `translate3d(-50%, -50%, ${z}px)`;
                    relatedVertex.style.backgroundColor = 'var(--primary-color)';
                    
                    const shadowIntensity = Math.max(0, (heightOffset - z) / heightOffset);
                    relatedVertex.style.boxShadow = `0 ${2 + shadowIntensity * 6}px ${3 + shadowIntensity * 7}px rgba(0, 0, 0, ${0.1 + shadowIntensity * 0.2})`;
                    
                    // Restaurar etiqueta
                    this.style.color = 'var(--primary-color)';
                    this.style.fontWeight = 'normal';
                    this.style.textShadow = `0 ${1 + shadowIntensity * 2}px ${2 + shadowIntensity * 2}px rgba(0, 0, 0, ${0.1 + shadowIntensity * 0.1})`;
                });
                
                octagonContainer.appendChild(vertexLabel);
            }
            
            // Create sides
            const sideLabels = [
                "Liderazgo Estratégico", "Estrategia Cultural", "Cultura Operativa", 
                "Operaciones Tecnológicas", "Tecnología Financiera", "Finanzas para Clientes", 
                "Innovación Centrada en Cliente", "Liderazgo Innovador"
            ];
            
            const sideDescriptions = [
                "La conexión entre el liderazgo y la estrategia asegura que la visión se traduzca en planes accionables. Los líderes deben comunicar claramente la dirección estratégica y asegurar el alineamiento en toda la organización.",
                "La estrategia cultural alinea los valores organizacionales con los objetivos comerciales. Una estrategia efectiva considera cómo la cultura apoya o dificulta la ejecución de los planes.",
                "La cultura operativa integra valores y prácticas en los procesos diarios de trabajo. Los procedimientos operativos deben reforzar los comportamientos culturales deseados.",
                "Las operaciones tecnológicas optimizan los procesos mediante la implementación de herramientas adecuadas. La tecnología debe integrarse en los flujos de trabajo para mejorar la eficiencia sin crear complejidad innecesaria.",
                "La tecnología financiera mejora la gestión de recursos y la eficiencia económica. Las soluciones tecnológicas deben proporcionar visibilidad y control sobre los indicadores financieros clave.",
                "Las finanzas centradas en el cliente priorizan inversiones que mejoran la experiencia del cliente. La asignación de recursos debe considerar el impacto en la satisfacción y retención de clientes.",
                "La innovación centrada en el cliente desarrolla soluciones basadas en necesidades reales del mercado. La retroalimentación del cliente debe guiar el proceso de innovación y desarrollo de productos.",
                "El liderazgo innovador fomenta la creatividad y el pensamiento disruptivo en toda la organización. Los líderes deben crear un entorno seguro para la experimentación y aprendizaje."
            ];
            
            for (let i = 0; i < 8; i++) {
                const startVertex = vertices[i];
                const endVertex = vertices[(i + 1) % 8];
                
                // Crear planos 3D para los lados
                const side = document.createElement('div');
                side.className = 'octagon-side';
                side.setAttribute('data-index', i);
                
                // Calcular longitud entre vértices
                const length = Math.sqrt(
                    Math.pow(endVertex.x - startVertex.x, 2) + 
                    Math.pow(endVertex.y - startVertex.y, 2)
                );
                
                const centerX = (startVertex.x + endVertex.x) / 2;
                const centerY = (startVertex.y + endVertex.y) / 2;
                const centerZ = (startVertex.z + endVertex.z) / 2;
                
                const angle = Math.atan2(
                    endVertex.y - startVertex.y,
                    endVertex.x - startVertex.x
                ) * (180 / Math.PI);
                
                side.style.width = `${length}px`;
                side.style.height = '30px';
                side.style.left = `${centerX + radius - length/2}px`;
                side.style.top = `${centerY + radius - 15}px`;
                
                // Aplicar transformación 3D con Z
                const zDepth = centerZ;
                side.style.transform = `translate3d(0, 0, ${zDepth}px) rotate(${angle}deg)`;
                side.style.zIndex = Math.round(centerZ) + 5;
                
                // Aplicar sombra basada en la profundidad Z
                const shadowIntensity = Math.max(0, (heightOffset - centerZ) / heightOffset);
                side.style.boxShadow = `0 ${1 + shadowIntensity * 3}px ${2 + shadowIntensity * 5}px rgba(0, 0, 0, ${0.1 + shadowIntensity * 0.15})`;
                
                // Ajustar opacidad basado en posición para efecto 3D
                const opacityBase = 0.1 + (centerZ / (heightOffset * 2)) * 0.2;
                side.style.backgroundColor = `rgba(26, 115, 232, ${opacityBase})`;
                
                // Eventos para tooltip
                side.addEventListener('mouseover', function(e) {
                    const index = parseInt(this.getAttribute('data-index'));
                    tooltip.innerHTML = `<h4>${sideLabels[index]}</h4><p>${sideDescriptions[index]}</p>`;
                    
                    // Posicionar tooltip cerca del cursor
                    const rect = octagonContainer.getBoundingClientRect();
                    tooltip.style.left = (e.clientX - rect.left + 10) + 'px';
                    tooltip.style.top = (e.clientY - rect.top + 10) + 'px';
                    
                    // Mostrar tooltip
                    tooltip.style.opacity = 1;
                    tooltip.style.visibility = 'visible';
                    
                    // Resaltar este lado
                    this.style.backgroundColor = `rgba(26, 115, 232, ${opacityBase + 0.2})`;
                    this.style.borderWidth = '3px';
                    this.style.boxShadow = `0 ${2 + shadowIntensity * 4}px ${3 + shadowIntensity * 6}px rgba(26, 115, 232, 0.4)`;
                    this.style.transform = `translate3d(0, 0, ${zDepth + 5}px) rotate(${angle}deg)`;
                    
                    // Resaltar etiqueta relacionada
                    const relatedLabel = document.querySelectorAll('.octagon-side-label')[index];
                    relatedLabel.style.color = 'var(--secondary-color)';
                    relatedLabel.style.fontWeight = 'bold';
                    relatedLabel.style.textShadow = '0 0 3px rgba(26, 115, 232, 0.3)';
                });
                
                side.addEventListener('mouseout', function() {
                    // Restaurar lado
                    this.style.backgroundColor = `rgba(26, 115, 232, ${opacityBase})`;
                    this.style.borderWidth = '2px';
                    this.style.boxShadow = `0 ${1 + shadowIntensity * 3}px ${2 + shadowIntensity * 5}px rgba(0, 0, 0, ${0.1 + shadowIntensity * 0.15})`;
                    this.style.transform = `translate3d(0, 0, ${zDepth}px) rotate(${angle}deg)`;
                    
                    // Restaurar etiqueta
                    const index = parseInt(this.getAttribute('data-index'));
                    const relatedLabel = document.querySelectorAll('.octagon-side-label')[index];
                    relatedLabel.style.color = 'var(--primary-color)';
                    relatedLabel.style.fontWeight = 'normal';
                    relatedLabel.style.textShadow = '0 1px 2px rgba(0, 0, 0, 0.1)';
                });
                
                octagonContainer.appendChild(side);
                
                // Crear etiqueta del lado
                const sideLabel = document.createElement('div');
                sideLabel.className = 'octagon-side-label';
                sideLabel.textContent = sideLabels[i];
                sideLabel.style.left = `${centerX + radius}px`;
                sideLabel.style.top = `${centerY + radius - 35}px`;
                sideLabel.setAttribute('data-index', i);
                
                // Aplicar posición Z para efecto 3D
                sideLabel.style.transform = `translate3d(-50%, -50%, ${centerZ}px)`;
                sideLabel.style.zIndex = Math.round(centerZ) + 5;
                
                // Aplicar sombra de texto basada en profundidad
                sideLabel.style.textShadow = `0 ${1 + shadowIntensity * 2}px ${1 + shadowIntensity * 2}px rgba(0, 0, 0, ${0.1 + shadowIntensity * 0.1})`;
                
                // Eventos para tooltip en la etiqueta
                sideLabel.addEventListener('mouseover', function(e) {
                    const index = parseInt(this.getAttribute('data-index'));
                    tooltip.innerHTML = `<h4>${sideLabels[index]}</h4><p>${sideDescriptions[index]}</p>`;
                    
                    // Posicionar tooltip cerca del cursor
                    const rect = octagonContainer.getBoundingClientRect();
                    tooltip.style.left = (e.clientX - rect.left + 10) + 'px';
                    tooltip.style.top = (e.clientY - rect.top + 10) + 'px';
                    
                    // Mostrar tooltip
                    tooltip.style.opacity = 1;
                    tooltip.style.visibility = 'visible';
                    
                    // Resaltar lado relacionado
                    const relatedSide = document.querySelectorAll('.octagon-side')[index];
                    const startVertex = vertices[index];
                    const endVertex = vertices[(index + 1) % 8];
                    const centerZ = (startVertex.z + endVertex.z) / 2;
                    const zDepth = centerZ;
                    const angle = Math.atan2(
                        endVertex.y - startVertex.y,
                        endVertex.x - startVertex.x
                    ) * (180 / Math.PI);
                    
                    const shadowIntensity = Math.max(0, (heightOffset - centerZ) / heightOffset);
                    const opacityBase = 0.1 + (centerZ / (heightOffset * 2)) * 0.2;
                    
                    relatedSide.style.backgroundColor = `rgba(26, 115, 232, ${opacityBase + 0.2})`;
                    relatedSide.style.borderWidth = '3px';
                    relatedSide.style.boxShadow = `0 ${2 + shadowIntensity * 4}px ${3 + shadowIntensity * 6}px rgba(26, 115, 232, 0.4)`;
                    relatedSide.style.transform = `translate3d(0, 0, ${zDepth + 5}px) rotate(${angle}deg)`;
                    
                    // Resaltar esta etiqueta
                    this.style.color = 'var(--secondary-color)';
                    this.style.fontWeight = 'bold';
                    this.style.textShadow = '0 0 3px rgba(26, 115, 232, 0.3)';
                    this.style.transform = `translate3d(-50%, -50%, ${centerZ + 5}px)`;
                });
                
                sideLabel.addEventListener('mouseout', function() {
                    // Restaurar lado
                    const index = parseInt(this.getAttribute('data-index'));
                    const relatedSide = document.querySelectorAll('.octagon-side')[index];
                    
                    const startVertex = vertices[index];
                    const endVertex = vertices[(index + 1) % 8];
                    const centerZ = (startVertex.z + endVertex.z) / 2;
                    const zDepth = centerZ;
                    const angle = Math.atan2(
                        endVertex.y - startVertex.y,
                        endVertex.x - startVertex.x
                    ) * (180 / Math.PI);
                    
                    const shadowIntensity = Math.max(0, (heightOffset - centerZ) / heightOffset);
                    const opacityBase = 0.1 + (centerZ / (heightOffset * 2)) * 0.2;
                    
                    relatedSide.style.backgroundColor = `rgba(26, 115, 232, ${opacityBase})`;
                    relatedSide.style.borderWidth = '2px';
                    relatedSide.style.boxShadow = `0 ${1 + shadowIntensity * 3}px ${2 + shadowIntensity * 5}px rgba(0, 0, 0, ${0.1 + shadowIntensity * 0.15})`;
                    relatedSide.style.transform = `translate3d(0, 0, ${zDepth}px) rotate(${angle}deg)`;
                    
                    // Restaurar esta etiqueta
                    this.style.color = 'var(--primary-color)';
                    this.style.fontWeight = 'normal';
                    this.style.textShadow = `0 ${1 + shadowIntensity * 2}px ${1 + shadowIntensity * 2}px rgba(0, 0, 0, ${0.1 + shadowIntensity * 0.1})`;
                    this.style.transform = `translate3d(-50%, -50%, ${centerZ}px)`;
                });
                
                octagonContainer.appendChild(sideLabel);
            }
            
            // Añadir planos superiores e inferiores para el efecto 3D completo
            const topPlane = document.createElement('div');
            topPlane.className = 'octagon-plane top-plane';
            topPlane.style.width = `${radius * 1.5}px`;
            topPlane.style.height = `${radius * 1.5}px`;
            topPlane.style.left = `${radius * 0.25}px`;
            topPlane.style.top = `${radius * 0.25}px`;
            topPlane.style.transform = `translate3d(0, 0, ${heightOffset / 2}px)`;
            topPlane.style.backgroundColor = `rgba(26, 115, 232, 0.05)`;
            topPlane.style.borderRadius = '50%';
            topPlane.style.zIndex = Math.round(heightOffset / 2);
            topPlane.style.borderTop = '1px solid rgba(26, 115, 232, 0.3)';
            topPlane.style.borderBottom = '1px solid rgba(26, 115, 232, 0.1)';
            topPlane.style.boxShadow = 'inset 0 2px 15px rgba(26, 115, 232, 0.1)';
            octagonContainer.appendChild(topPlane);
            
            const bottomPlane = document.createElement('div');
            bottomPlane.className = 'octagon-plane bottom-plane';
            bottomPlane.style.width = `${radius * 1.5}px`;
            bottomPlane.style.height = `${radius * 1.5}px`;
            bottomPlane.style.left = `${radius * 0.25}px`;
            bottomPlane.style.top = `${radius * 0.25}px`;
            bottomPlane.style.transform = `translate3d(0, 0, ${-heightOffset / 2}px)`;
            bottomPlane.style.backgroundColor = `rgba(26, 115, 232, 0.03)`;
            bottomPlane.style.borderRadius = '50%';
            bottomPlane.style.zIndex = Math.round(-heightOffset / 2);
            bottomPlane.style.borderTop = '1px solid rgba(26, 115, 232, 0.1)';
            bottomPlane.style.borderBottom = '1px solid rgba(26, 115, 232, 0.3)';
            bottomPlane.style.boxShadow = 'inset 0 -2px 15px rgba(26, 115, 232, 0.1)';
            octagonContainer.appendChild(bottomPlane);
        }
        
        // Actualizar rotación del octágono cuando cambie la vista de la ventana
        window.addEventListener('resize', function() {
            setTimeout(() => {
                // Aplicar una rotación ligeramente diferente para que el usuario note que se ha recalculado
                const octagonContainer = document.getElementById('octagon');
                if (octagonContainer) {
                    octagonContainer.style.transition = 'transform 1s ease-in-out';
                    octagonContainer.style.transform = 'rotateX(63deg) rotateY(8deg) rotateZ(48deg)';
                }
            }, 100);
        });
        
        // Añadir animación de rotación automática suave para el octágono
        let animationId;
        let isAutoRotating = false;
        
        function toggleAutoRotation() {
            if (isAutoRotating) {
                stopAutoRotation();
            } else {
                startAutoRotation();
            }
        }
        
        function startAutoRotation() {
            if (isAutoRotating) return;
            
            isAutoRotating = true;
            let rotation = { x: 60, y: 0, z: 45 };
            let timestamp = null;
            
            function animate(currentTime) {
                if (timestamp === null) {
                    timestamp = currentTime;
                }
                
                const elapsed = currentTime - timestamp;
                timestamp = currentTime;
                
                // Rotar suavemente
                rotation.z += elapsed * 0.01; // Velocidad de rotación
                
                const octagonContainer = document.getElementById('octagon');
                if (octagonContainer) {
                    octagonContainer.style.transform = `rotateX(${rotation.x}deg) rotateY(${rotation.y}deg) rotateZ(${rotation.z}deg)`;
                }
                
                animationId = requestAnimationFrame(animate);
            }
            
            animationId = requestAnimationFrame(animate);
        }
        
        function stopAutoRotation() {
            if (!isAutoRotating) return;
            
            cancelAnimationFrame(animationId);
            isAutoRotating = false;
        }
        
        // Iniciar rotación automática después de la carga inicial y detenerla en interacción
        document.addEventListener('DOMContentLoaded', function() {
            // Iniciar rotación automática después de 3 segundos
            setTimeout(() => {
                startAutoRotation();
            }, 3000);
            
            // Detener la rotación automática cuando el usuario interactúa con el octágono
            const octagon = document.getElementById('octagon');
            if (octagon) {
                octagon.addEventListener('mousedown', stopAutoRotation);
                octagon.addEventListener('touchstart', stopAutoRotation);
            }
        });

        // Quiz functionality
        let quizData = [
            {
                question: "¿Cómo calificaría el proceso de planificación estratégica de su organización?",
                options: [
                    "Tenemos un plan estratégico completo y actualizado regularmente",
                    "Tenemos un plan estratégico pero no se actualiza regularmente",
                    "Tenemos algunos objetivos estratégicos pero sin un plan formal",
                    "Operamos sin un plan estratégico"
                ],
                dimension: "Estrategia",
                scores: [4, 3, 2, 1]
            },
            {
                question: "¿Cómo describiría la cultura de innovación en su organización?",
                options: [
                    "La innovación es parte integral de nuestra cultura y procesos diarios",
                    "Tenemos iniciativas de innovación pero no están totalmente integradas",
                    "Ocasionalmente implementamos nuevas ideas pero no de forma sistemática",
                    "Raramente innovamos o implementamos cambios significativos"
                ],
                dimension: "Innovación",
                scores: [4, 3, 2, 1]
            },
            {
                question: "¿Cómo gestionan la experiencia del cliente en su organización?",
                options: [
                    "Tenemos un sistema integral para monitorear y mejorar la experiencia del cliente",
                    "Recogemos feedback del cliente pero no siempre lo implementamos",
                    "Ocasionalmente evaluamos la satisfacción del cliente",
                    "No tenemos un proceso formal para gestionar la experiencia del cliente"
                ],
                dimension: "Clientes",
                scores: [4, 3, 2, 1]
            },
            {
                question: "¿Cómo describiría el liderazgo en su organización?",
                options: [
                    "Nuestros líderes son efectivos, inspiradores y promueven el desarrollo del equipo",
                    "El liderazgo es generalmente efectivo pero hay áreas de mejora",
                    "El liderazgo varía significativamente entre departamentos",
                    "Tenemos problemas significativos con el liderazgo"
                ],
                dimension: "Liderazgo",
                scores: [4, 3, 2, 1]
            },
            {
                question: "¿Cómo calificaría la eficiencia operativa de su organización?",
                options: [
                    "Nuestros procesos están optimizados y mejoramos continuamente",
                    "Somos generalmente eficientes pero hay cuellos de botella ocasionales",
                    "Tenemos áreas de ineficiencia que afectan nuestro rendimiento",
                    "Nuestras operaciones son ineficientes y necesitan una revisión"
                ],
                dimension: "Operaciones",
                scores: [4, 3, 2, 1]
            }
        ];
        
        let currentQuestion = 0;
        let userAnswers = [];
        
        function startQuiz() {
            document.querySelector('.quiz-intro').style.display = 'none';
            displayQuestion();
        }
        
        function displayQuestion() {
            const questionData = quizData[currentQuestion];
            
            const questions = document.getElementById('questions');
            questions.innerHTML = '';
            
            const questionContainer = document.createElement('div');
            questionContainer.className = 'question-container active';
            
            // Crear elemento para la pregunta
            const questionElement = document.createElement('div');
            questionElement.className = 'question';
            questionElement.textContent = questionData.question;
            questionContainer.appendChild(questionElement);
            
            // Crear contenedor de opciones
            const optionsContainer = document.createElement('div');
            optionsContainer.className = 'options';
            
            // Crear cada opción
            questionData.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                optionElement.textContent = option;
                optionElement.onclick = function() { selectOption(this, index); };
                optionsContainer.appendChild(optionElement);
            });
            
            questionContainer.appendChild(optionsContainer);
            
            // Crear navegación
            const navigation = document.createElement('div');
            navigation.className = 'quiz-navigation';
            
            // Botón anterior (excepto en la primera pregunta)
            if (currentQuestion > 0) {
                const prevButton = document.createElement('button');
                prevButton.className = 'quiz-button';
                prevButton.textContent = 'Anterior';
                prevButton.onclick = previousQuestion;
                navigation.appendChild(prevButton);
            }
            
            // Botón siguiente o finalizar
            const nextButton = document.createElement('button');
            nextButton.className = 'quiz-button';
            nextButton.id = 'next-button';
            nextButton.disabled = true; // Deshabilitado hasta que se seleccione una opción
            
            if (currentQuestion < quizData.length - 1) {
                nextButton.textContent = 'Siguiente';
                nextButton.onclick = nextQuestion;
            } else {
                nextButton.textContent = 'Ver Resultados';
                nextButton.onclick = showResults;
            }
            
            navigation.appendChild(nextButton);
            questionContainer.appendChild(navigation);
            
            questions.appendChild(questionContainer);
            
            // Si ya hay una respuesta guardada para esta pregunta, seleccionarla
            if (userAnswers[currentQuestion] !== undefined) {
                const options = document.querySelectorAll('.option');
                options[userAnswers[currentQuestion]].classList.add('selected');
                document.getElementById('next-button').disabled = false;
            }
        }
        <!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sage-Wise</title>
    <style>
        :root {
            --primary-color: #1a73e8;
            --secondary-color: #4285f4;
            --light-blue: #e8f0fe;
            --white: #ffffff;
            --gray: #f8f9fa;
            --dark-gray: #202124;
            --shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: var(--white);
            color: var(--dark-gray);
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        header {
            background-color: var(--white);
            box-shadow: var(--shadow);
            position: sticky;
            top: 0;
            z-index: 100;
            padding: 15px 0;
        }

        .nav-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            font-size: 24px;
            font-weight: 700;
            color: var(--primary-color);
        }

        .logo img {
            height: 40px;
            margin-right: 10px;
        }

        .tabs {
            display: flex;
            margin-top: 40px;
            border-bottom: 1px solid #ddd;
        }

        .tab {
            padding: 10px 20px;
            cursor: pointer;
            background-color: var(--white);
            border: none;
            font-size: 16px;
            font-weight: 500;
            color: var(--dark-gray);
            position: relative;
        }

        .tab.active {
            color: var(--primary-color);
        }

        .tab.active::after {
            content: '';
            position: absolute;
            bottom: -1px;
            left: 0;
            width: 100%;
            height: 3px;
            background-color: var(--primary-color);
        }

        .tab-content {
            display: none;
            padding: 30px 0;
        }

        .tab-content.active {
            display: block;
        }

        /* Home Tab Styles */
        .hero-section {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin: 40px 0;
        }

        .hero-text {
            flex: 1;
            padding-right: 40px;
        }

        .hero-text h1 {
            font-size: 42px;
            margin-bottom: 20px;
            color: var(--primary-color);
        }

        .hero-text p {
            font-size: 18px;
            margin-bottom: 30px;
            color: var(--dark-gray);
        }

        .cta-button {
            display: inline-block;
            background-color: var(--primary-color);
            color: var(--white);
            padding: 12px 25px;
            border-radius: 5px;
            text-decoration: none;
            font-weight: 600;
            transition: background-color 0.3s;
        }

        .cta-button:hover {
            background-color: var(--secondary-color);
        }

        .octagon-model {
            flex: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 500px;
            position: relative;
        }

        .octagon-container {
            width: 400px;
            height: 400px;
            position: relative;
            transform-style: preserve-3d;
            transform: rotateX(60deg) rotateZ(45deg);
            transition: transform 0.3s ease;
            cursor: grab;
            perspective: 800px;
        }

        .octagon-container:active {
            cursor: grabbing;
        }

        .octagon-vertex {
            position: absolute;
            width: 15px;
            height: 15px;
            background-color: var(--primary-color);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            cursor: pointer;
            z-index: 10;
            transition: transform 0.2s ease, background-color 0.2s ease;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.3);
        }

        .octagon-vertex:hover {
            transform: translate(-50%, -50%) scale(1.5);
            background-color: var(--secondary-color);
        }

        .octagon-vertex-label {
            position: absolute;
            color: var(--primary-color);
            font-weight: bold;
            transform: translate(-50%, -50%);
            white-space: nowrap;
            cursor: pointer;
            transition: color 0.2s ease, text-shadow 0.2s ease, transform 0.2s ease;
        }

        .octagon-side {
            position: absolute;
            background-color: rgba(26, 115, 232, 0.1);
            border: 2px solid var(--primary-color);
            transform-origin: center;
            transform-style: preserve-3d;
            cursor: pointer;
            transition: background-color 0.2s ease, transform 0.2s ease, box-shadow 0.2s ease, border-width 0.2s ease;
        }
        
        .octagon-side:hover {
            background-color: rgba(26, 115, 232, 0.3);
        }

        .octagon-side-label {
            position: absolute;
            color: var(--primary-color);
            font-weight: bold;
            transform: translate(-50%, -50%);
            white-space: nowrap;
            cursor: pointer;
            transition: color 0.2s ease, text-shadow 0.2s ease, transform 0.2s ease, font-weight 0.2s ease;
        }
        
        .octagon-plane {
            position: absolute;
            pointer-events: none;
            transition: transform 0.3s ease;
        }
        
        .tooltip {
            position: absolute;
            background-color: var(--white);
            border: 1px solid var(--primary-color);
            border-radius: 5px;
            padding: 10px 15px;
            box-shadow: var(--shadow);
            max-width: 250px;
            z-index: 100;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s, visibility 0.3s;
            pointer-events: none;
        }
        
        .tooltip h4 {
            color: var(--primary-color);
            margin-bottom: 5px;
            font-size: 16px;
        }
        
        .tooltip p {
            font-size: 14px;
            margin: 0;
        }

        .section-title {
            font-size: 32px;
            color: var(--primary-color);
            margin-bottom: 20px;
            text-align: center;
        }

        .success-cases {
            margin: 60px 0;
        }

        .case-cards {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 30px;
        }

        .case-card {
            background-color: var(--light-blue);
            border-radius: 8px;
            padding: 25px;
            box-shadow: var(--shadow);
            transition: transform 0.3s;
        }

        .case-card:hover {
            transform: translateY(-5px);
        }

        .case-card h3 {
            color: var(--primary-color);
            margin-bottom: 15px;
        }

        .contact-section {
            background-color: var(--light-blue);
            padding: 60px 0;
            text-align: center;
            margin: 60px 0;
            border-radius: 8px;
        }

        .contact-info {
            display: flex;
            justify-content: center;
            gap: 40px;
            margin-top: 30px;
        }

        .contact-item {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .contact-item i {
            font-size: 24px;
            color: var(--primary-color);
            margin-bottom: 10px;
        }

        footer {
            background-color: var(--primary-color);
            color: var(--white);
            padding: 30px 0;
            text-align: center;
        }

        .footer-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .footer-logo {
            font-size: 20px;
            font-weight: 700;
        }

        .footer-links {
            display: flex;
            gap: 20px;
        }

        .footer-links a {
            color: var(--white);
            text-decoration: none;
        }

        .copyright {
            margin-top: 20px;
            font-size: 14px;
        }

        /* Quiz Tab Styles */
        .quiz-container {
            max-width: 800px;
            margin: 0 auto;
            background-color: var(--light-blue);
            padding: 30px;
            border-radius: 8px;
            box-shadow: var(--shadow);
        }

        .quiz-intro {
            text-align: center;
            margin-bottom: 30px;
        }

        .quiz-intro h2 {
            color: var(--primary-color);
            margin-bottom: 15px;
        }

        .question-container {
            display: none;
            margin-bottom: 30px;
        }

        .question-container.active {
            display: block;
        }

        .question {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 20px;
            color: var(--primary-color);
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .option {
            background-color: var(--white);
            padding: 15px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .option:hover {
            background-color: #e3f2fd;
        }

        .option.selected {
            background-color: var(--primary-color);
            color: var(--white);
        }

        .quiz-navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }

        .quiz-button {
            background-color: var(--primary-color);
            color: var(--white);
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 600;
            transition: background-color 0.3s;
        }

        .quiz-button:hover {
            background-color: var(--secondary-color);
        }

        .quiz-button:disabled {
            background-color: #ccc;
            cursor: not-allowed;
        }

        .results-container {
            display: none;
            text-align: center;
        }

        .results-container h2 {
            color: var(--primary-color);
            margin-bottom: 20px;
        }

        .result-chart {
            width: 100%;
            max-width: 500px;
            margin: 0 auto 30px;
            height: 300px;
            background-color: var(--white);
            border-radius: 8px;
            padding: 20px;
            box-shadow: var(--shadow);
        }

        .recommendations {
            background-color: var(--white);
            padding: 20px;
            border-radius: 8px;
            box-shadow: var(--shadow);
            text-align: left;
        }

        .recommendations h3 {
            color: var(--primary-color);
            margin-bottom: 15px;
        }

        /* Chat Tab Styles */
        .chat-container {
            display: flex;
            flex-direction: column;
            height: 600px;
            background-color: var(--light-blue);
            border-radius: 8px;
            overflow: hidden;
            box-shadow: var(--shadow);
        }

        .chat-header {
            background-color: var(--primary-color);
            color: var(--white);
            padding: 15px 20px;
            display: flex;
            align-items: center;
        }

        .chat-header h2 {
            margin-left: 10px;
        }

        .chat-messages {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .message {
            max-width: 80%;
            padding: 12px 16px;
            border-radius: 18px;
            font-size: 16px;
            line-height: 1.4;
        }

        .user-message {
            align-self: flex-end;
            background-color: var(--primary-color);
            color: var(--white);
            border-bottom-right-radius: 5px;
        }

        .bot-message {
            align-self: flex-start;
            background-color: var(--white);
            color: var(--dark-gray);
            border-bottom-left-radius: 5px;
        }

        .chat-input {
            display: flex;
            padding: 15px;
            background-color: var(--white);
            border-top: 1px solid #ddd;
        }

        .chat-input input {
            flex: 1;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 25px;
            outline: none;
            font-size: 16px;
        }

        .chat-input button {
            background-color: var(--primary-color);
            color: var(--white);
            border: none;
            border-radius: 50%;
            width: 45px;
            height: 45px;
            margin-left: 10px;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s;
        }

        .chat-input button:hover {
            background-color: var(--secondary-color);
        }

        @media (max-width: 768px) {
            .hero-section {
                flex-direction: column;
            }

            .hero-text {
                padding-right: 0;
                margin-bottom: 40px;
            }

            .octagon-model {
                height: 400px;
            }

            .contact-info {
                flex-direction: column;
                gap: 20px;
            }

            .case-cards {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container nav-container">
            <div class="logo">
                <img src="/api/placeholder/40/40" alt="Sage-Wise Logo">
                Sage-Wise
            </div>
        </div>
    </header>

    <div class="container">
        <div class="tabs">
            <button class="tab active" onclick="openTab(event, 'home')">Inicio</button>
            <button class="tab" onclick="openTab(event, 'quiz')">Diagnóstico</button>
            <button class="tab" onclick="openTab(event, 'explicator')">El Explicador</button>
        </div>

        <!-- Home Tab Content -->
        <div id="home" class="tab-content active">
            <div class="hero-section">
                <div class="hero-text">
                    <h1>Bienvenido a Sage-Wise</h1>
                    <p>Ayudamos a las organizaciones a optimizar sus operaciones a través de nuestro innovador Modelo de Octágono. Nuestro enfoque equilibra ocho dimensiones críticas para garantizar un crecimiento y éxito sostenibles.</p>
                    <a href="#contact" class="cta-button">Contáctanos</a>
                </div>
                <div class="octagon-model">
                    <div class="octagon-container" id="octagon">
                        <!-- Octagon will be rendered with JavaScript -->
                    </div>
                    <div class="tooltip" id="octagon-tooltip"></div>
                </div>
            </div>

            <div class="success-cases">
                <h2 class="section-title">Casos de Éxito</h2>
                <div class="case-cards">
                    <div class="case-card">
                        <h3>Global Tech Inc.</h3>
                        <p>Implementó nuestro Modelo de Octágono para reestructurar sus operaciones, resultando en un aumento del 35% en productividad y una reducción del 28% en costos operativos en 6 meses.</p>
                    </div>
                    <div class="case-card">
                        <h3>HealthCare Solutions</h3>
                        <p>Aplicó nuestra metodología para optimizar los procesos de atención al paciente, mejorando los puntajes de satisfacción en un 42% y reduciendo la carga administrativa en un 25%.</p>
                    </div>
                    <div class="case-card">
                        <h3>Finance Partners</h3>
                        <p>Utilizó nuestro Modelo de Octágono para redefinir su experiencia de cliente, logrando un aumento del 53% en retención de clientes y un crecimiento del 31% en ingresos.</p>
                    </div>
                </div>
            </div>

            <div id="contact" class="contact-section">
                <h2 class="section-title">Contáctanos</h2>
                <div class="contact-info">
                    <div class="contact-item">
                        <i>📧</i>
                        <span>info@sage-wise.com</span>
                    </div>
                    <div class="contact-item">
                        <i>📞</i>
                        <span>+1 (555) 123-4567</span>
                    </div>
                    <div class="contact-item">
                        <i>📍</i>
                        <span>Av. Innovación 123, Suite 500, Ciudad Empresarial</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Quiz Tab Content -->
        <div id="quiz" class="tab-content">
            <div class="quiz-container">
                <div class="quiz-intro">
                    <h2>Cuestionario de Diagnóstico Organizacional</h2>
                    <p>Responda las siguientes preguntas para recibir una evaluación personalizada de la alineación de su organización con nuestro Modelo de Octágono y recomendaciones para mejorar.</p>
                    <button class="quiz-button" onclick="startQuiz()">Iniciar Cuestionario</button>
                </div>

                <div id="questions">
                    <!-- Questions will be dynamically added with JavaScript when you provide them -->
                </div>

                <div class="results-container" id="results">
                    <h2>Sus Resultados</h2>
                    <div class="result-chart">
                        <!-- Chart will be added here -->
                    </div>
                    <div class="recommendations">
                        <h3>Recomendaciones</h3>
                        <div id="recommendation-content">
                            <!-- Recommendations will be added here based on quiz results -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Explicator Tab Content -->
        <div id="explicator" class="tab-content">
            <div class="chat-container">
                <div class="chat-header">
                    <img src="/api/placeholder/30/30" alt="Icono del Explicador">
                    <h2>El Explicador</h2>
                </div>
                <div class="chat-messages" id="chat-messages">
                    <div class="message bot-message">
                        ¡Hola! Soy El Explicador, tu guía para comprender la metodología Sage-Wise. ¿En qué puedo ayudarte hoy?
                    </div>
                </div>
                <div class="chat-input">
                    <input type="text" id="message-input" placeholder="Escribe tu pregunta aquí..." onkeypress="handleKeyPress(event)">
                    <button onclick="sendMessage()">➤</button>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo">
                    Sage-Wise
                </div>
                <div class="footer-links">
                    <a href="#">Política de Privacidad</a>
                    <a href="#">Términos de Servicio</a>
                </div>
            </div>
            <div class="copyright">
                © 2025 Sage-Wise. Todos los Derechos Reservados.
            </div>
        </div>
    </footer>

    <script>
        // Tab functionality
        function openTab(evt, tabName) {
            const tabcontent = document.getElementsByClassName("tab-content");
            for (let i = 0; i < tabcontent.length; i++) {
                tabcontent[i].classList.remove("active");
            }

            const tablinks = document.getElementsByClassName("tab");
            for (let i = 0; i < tablinks.length; i++) {
                tablinks[i].classList.remove("active");
            }

            document.getElementById(tabName).classList.add("active");
            evt.currentTarget.classList.add("active");
            
            // Guardar la pestaña activa en localStorage para mantenerla al recargar
            localStorage.setItem('activeTab', tabName);
        }
        
        // Restaurar la pestaña activa al cargar la página
        document.addEventListener('DOMContentLoaded', function() {
            const activeTab = localStorage.getItem('activeTab');
            if (activeTab) {
                document.getElementById(activeTab).classList.add('active');
                document.querySelector(`.tab[onclick="openTab(event, '${activeTab}')"]`).classList.add('active');
                
                // Asegurarse de que solo la pestaña guardada esté activa
                const tabcontent = document.getElementsByClassName("tab-content");
                for (let i = 0; i < tabcontent.length; i++) {
                    if (tabcontent[i].id !== activeTab) {
                        tabcontent[i].classList.remove("active");
                    }
                }
            }
            
            createOctagon();

            // Add event listeners for octagon rotation
            const octagon = document.getElementById('octagon');
            let isDragging = false;
            let previousMousePosition = { x: 0, y: 0 };
            let rotation = { x: 60, y: 0, z: 45 };

            octagon.addEventListener('mousedown', function(e) {
                if (!e.target.classList.contains('octagon-vertex') && 
                    !e.target.classList.contains('octagon-vertex-label') && 
                    !e.target.classList.contains('octagon-side') && 
                    !e.target.classList.contains('octagon-side-label')) {
                    isDragging = true;
                    previousMousePosition = { x: e.clientX, y: e.clientY };
                    octagon.style.cursor = 'grabbing';
                }
            });

            document.addEventListener('mousemove', function(e) {
                if (!isDragging) return;
                
                const deltaX = e.clientX - previousMousePosition.x;
                const deltaY = e.clientY - previousMousePosition.y;
                
                rotation.z += deltaX * 0.5;
                rotation.x += deltaY * 0.5;
                
                octagon.style.transform = `rotateX(${rotation.x}deg) rotateY(${rotation.y}deg) rotateZ(${rotation.z}deg)`;
                
                previousMousePosition = { x: e.clientX, y: e.clientY };
            });

            document.addEventListener('mouseup', function() {
                if (isDragging) {
                    octagon.style.cursor = 'grab';
                }
                isDragging = false;
            });
            
            // Tooltip for hover info
            const tooltip = document.getElementById('octagon-tooltip');
            
            // Hide tooltip when moving away from octagon model
            document.querySelector('.octagon-model').addEventListener('mouseleave', function() {
                tooltip.style.opacity = 0;
                tooltip.style.visibility = 'hidden';
            });
            
            // Animación suave inicial para el octágono
            setTimeout(() => {
                const octagonContainer = document.getElementById('octagon');
                octagonContainer.style.transition = 'transform 2s ease-in-out';
                octagonContainer.style.transform = 'rotateX(65deg) rotateY(15deg) rotateZ(55deg)';
                
                // Volver a la transición normal después de la animación inicial
                setTimeout(() => {
                    octagonContainer.style.transition = 'transform 0.3s ease';
                }, 2000);
            }, 500);
            
            // Añadir rotación automática con botón
            octagonContainer.addEventListener('dblclick', toggleAutoRotation);
            
            // Añadir indicación de instrucciones
            const instructions = document.createElement('div');
            instructions.className = 'octagon-instructions';
            instructions.innerHTML = 'Arrastra para rotar. <br>Doble clic para rotación automática.';
            instructions.style.position = 'absolute';
            instructions.style.bottom = '10px';
            instructions.style.left = '50%';
            instructions.style.transform = 'translateX(-50%)';
            instructions.style.textAlign = 'center';
            instructions.style.fontSize = '12px';
            instructions.style.color = 'var(--primary-color)';
            instructions.style.opacity = '0.8';
            document.querySelector('.octagon-model').appendChild(instructions);
            
            // Auto-ocultar las instrucciones después de un tiempo
            setTimeout(() => {
                instructions.style.transition = 'opacity 1s ease';
                instructions.style.opacity = '0';
            }, 8000);
        });

        function createOctagon() {
            const octagonContainer = document.getElementById('octagon');
            const tooltip = document.getElementById('octagon-tooltip');
            const radius = 150;
            
            // Define vertex positions for a true 3D octagon
            const vertices = [];
            const vertexLabels = [
                "Liderazgo", "Estrategia", "Cultura", "Operaciones", 
                "Tecnología", "Finanzas", "Clientes", "Innovación"
            ];
            
            const vertexDescriptions = [
                "El liderazgo efectivo establece la visión, inspira al equipo y conduce el cambio organizacional. Los líderes deben equilibrar la dirección estratégica con la empatía y la comunicación clara.",
                "La estrategia define la dirección a largo plazo y cómo alcanzar los objetivos organizacionales. Una estrategia efectiva considera tanto las fortalezas internas como las oportunidades externas.",
                "La cultura organizacional determina los valores, comportamientos y prácticas compartidas que definen la identidad de la empresa y cómo opera en el día a día.",
                "Las operaciones optimizan los procesos para entregar productos y servicios de manera eficiente. Los procesos operativos bien diseñados minimizan desperdicios y maximizan valor.",
                "La tecnología potencia la innovación y mejora la eficiencia operativa. Las soluciones tecnológicas deben alinearse con los objetivos estratégicos y las necesidades de los usuarios.",
                "Las finanzas aseguran los recursos y optimizan la gestión económica de la organización. Una gestión financiera sólida equilibra la inversión con la sostenibilidad a largo plazo.",
                "El enfoque en clientes garantiza experiencias excepcionales y relaciones duraderas. Entender y anticipar las necesidades del cliente es fundamental para el éxito sostenible.",
                "La innovación impulsa el desarrollo continuo de nuevos productos, servicios y procesos. Una cultura de innovación fomenta la experimentación y aprende tanto del éxito como del fracaso."
            ];
            
            // Crear vértices con coordenadas 3D para un octágono regular
            const heightOffset = 30; // Altura para el efecto 3D
            
            for (let i = 0; i < 8; i++) {
                const angle = (i * Math.PI / 4); // 45 grados de intervalo
                // Añadimos variación de altura para un efecto 3D más pronunciado
                const z = Math.sin(i * Math.PI / 2) * heightOffset;
                const x = radius * Math.cos(angle);
                const y = radius * Math.sin(angle);
                
                vertices.push({ x, y, z });
                
                // Crear punto del vértice
                const vertexDot = document.createElement('div');
                vertexDot.className = 'octagon-vertex';
                vertexDot.style.left = `${x + radius}px`;
                vertexDot.style.top = `${y + radius}px`;
                // Aplicar transformación 3D con la coordenada Z
                vertexDot.style.transform = `translate3d(-50%,
